{"ast":null,"code":"import { watch, ref } from 'vue';\nimport { saveAs, encodeBase64 } from '@progress/kendo-file-saver';\nexport default {\n  //Official Character Sheet sizes\n  //Picture: 329 x 239\n  //Full Sheet: 1210 x 904\n  data() {\n    return {\n      name: ' ',\n      race: ' ',\n      title: ' ',\n      imgURL: '',\n      primColor: '#BB0000',\n      secColor: '#bcbcbc',\n      allignment: 'NN',\n      skill: ' ',\n      isOneshot: false,\n      level: 1,\n      statTotal: 35,\n      statPoints: 22,\n      //Stats\n      stats: [1, 1, 1, 1, 1, 1, 1, 1, 5],\n      hp: 11,\n      mp: 1,\n      ability: '',\n      abilityDesc: ''\n    };\n  },\n  methods: {\n    changeImg() {\n      console.log(\"code attempted\");\n      var image = document.getElementsByClassName(\"portrait\")[0];\n      console.log(image);\n      image.src = this.imgURL;\n    },\n    oneshotLevelSwitch(x) {\n      if (x) {\n        //console.log(\"YES\");\n        this.level = 3;\n        this.statTotal = 40;\n        this.calculateTotal();\n      } else {\n        //console.log(\"NO\");\n        this.level = 1;\n        this.statTotal = 35;\n        this.calculateTotal();\n      }\n    },\n    levelUp(x) {\n      if (x) {\n        if (this.level < 5) {\n          this.statTotal += 3;\n        } else {\n          this.statTotal += 1;\n        }\n        this.level += 1;\n      } else {\n        if (this.level != 1) {\n          if (this.level <= 5) {\n            this.statTotal -= 3;\n          } else {\n            this.statTotal -= 1;\n          }\n          this.level -= 1;\n        }\n      }\n      this.calculateTotal();\n    },\n    changeStat(stat, value) {\n      this.stats[stat] = this.stats[stat] + value;\n      this.calculateTotal();\n    },\n    calculateTotal() {\n      console.log(this.primColor);\n      let x = this.statTotal;\n      for (let i = 0; i < this.stats.length; i++) {\n        //ifs make sure stats are between 1 and 8\n        //will need to implement specifics if stats can be uncapped\n        if (this.stats[i] > 8) {\n          this.stats[i] = 8;\n        } else if (this.stats[i] < 1) {\n          this.stats[i] = 1;\n        } else if (this.stats[8] < 5) {\n          this.stats[8] = 5;\n        }\n        x -= this.stats[i];\n      }\n      this.statPoints = x;\n      this.hp = Math.trunc(10 + this.stats[0] * (.5 * Math.min(this.level, 5) + .5));\n      this.mp = Math.trunc(this.stats[1] * (.25 * Math.min(this.level, 5) + .75));\n    },\n    saveFile() {\n      console.log(this.stats);\n      const dataURI = \"data:text/plain;base64,\" + encodeBase64(this.name + ',' + this.race + ',' + this.title + ',' + this.imgURL + ',' + this.primColor + ',' + this.secColor + ',' + this.allignment + ',' + this.skill + ',' + this.ability + ',' + this.abilityDesc + ',' + this.isOneshot + ',' + this.level + ',' + this.statTotal + ',' + this.stats);\n      saveAs(dataURI, this.name + \".txt\");\n    },\n    loadFile() {}\n  }\n};","map":{"version":3,"names":["watch","ref","saveAs","encodeBase64","data","name","race","title","imgURL","primColor","secColor","allignment","skill","isOneshot","level","statTotal","statPoints","stats","hp","mp","ability","abilityDesc","methods","changeImg","console","log","image","document","getElementsByClassName","src","oneshotLevelSwitch","x","calculateTotal","levelUp","changeStat","stat","value","i","length","Math","trunc","min","saveFile","dataURI","loadFile"],"sources":["C:\\Users\\Kaires\\Downloads\\Vue\\jnj-character-builder\\src\\components\\Builder.vue"],"sourcesContent":["<template>\r\n    <!--Base Info-->\r\n  <button @click=\"saveFile\">Save Character</button>\r\n  <button @click=\"loadFile\">Load Character</button>\r\n  <label>Enter Character Name: \r\n  <input type=\"text\" v-model=\"name\"></label>\r\n  <br>\r\n  <label>Enter Character Race: \r\n  <input type=\"text\" v-model=\"race\"></label>\r\n  <br>\r\n  <label>Enter Character Title: \r\n  <input type=\"text\" v-model=\"title\"></label>\r\n  <br>\r\n  <img src='' class=\"portrait\" width=\"100px\" height=\"100px\">\r\n  <br>\r\n  <label>Place img url here:\r\n  <input type=\"text\" v-model=\"imgURL\"/></label>\r\n  <button @click=\"changeImg\">Change image</button>\r\n  <br>\r\n  <input type=\"color\" v-model=\"primColor\">\r\n  <input type=\"color\" v-model=\"secColor\">\r\n  <br>\r\n  <label>Select Alignment: </label>\r\n    <br>\r\n  <input type=\"radio\" name='moral' value=\"LG\" v-model=\"allignment\">\r\n  <input type=\"radio\" name='moral' value=\"NG\" v-model=\"allignment\">\r\n  <input type=\"radio\" name='moral' value=\"CG\" v-model=\"allignment\">\r\n  <br>\r\n  <input type=\"radio\" name='moral' value=\"LN\" v-model=\"allignment\">\r\n  <input type=\"radio\" name='moral' value=\"NN\" v-model=\"allignment\">\r\n  <input type=\"radio\" name='moral' value=\"CN\" v-model=\"allignment\">\r\n  <br>\r\n  <input type=\"radio\" name='moral' value=\"LE\" v-model=\"allignment\">\r\n  <input type=\"radio\" name='moral' value=\"NE\" v-model=\"allignment\">\r\n  <input type=\"radio\" name='moral' value=\"CE\" v-model=\"allignment\">\r\n  <br>\r\n  <label>Your alignment is {{ allignment }}</label>\r\n\r\n<br>\r\n  <label>Enter Personal Skill: \r\n  <input type=\"text\" v-model=\"skill\"></label>\r\n<br>\r\n<label>Enter Ability Name:<input type=\"text\" v-model=\"ability\"></label>\r\n<br>\r\n<label>Enter Abiility Description</label>\r\n<br>\r\n<textarea name=\"paragraph_text\" cols=\"50\" rows=\"10\" v-model=\"abilityDesc\"></textarea>\r\n<br>\r\n  <label>Is oneshot: \r\n    <!-- !isOneshot since value does not update before the function-->\r\n  <input type=\"checkbox\"  v-model=\"isOneshot\" @click=\"oneshotLevelSwitch(!isOneshot)\"></label>\r\n<!--Stat Building-->\r\n<p>You are level {{ level }} and have {{ statPoints }} / {{statTotal}} points left.</p>\r\n<button @click=\"levelUp(false)\" :disabled=\"isOneshot\">LEVEL DOWN</button>\r\n<button @click=\"levelUp(true)\" :disabled=\"isOneshot\">LEVEL UP</button>\r\n<br>\r\n<label>You have {{ hp }}hp and {{ mp }}mp.</label>\r\n<br>\r\n<label>END:\r\n<button @click=\"changeStat(0,-1)\">-</button>\r\n<input type=\"number\" v-model=\"stats[0]\">\r\n<button @click=\"changeStat(0,1)\">+</button></label>\r\n<br>\r\n<label>MYS:\r\n<button @click=\"changeStat(1,-1)\">-</button>\r\n<input type=\"number\" v-model=\"stats[1]\">\r\n<button @click=\"changeStat(1,1)\">+</button></label>\r\n<br>\r\n<label>STR:\r\n<button @click=\"changeStat(2,-1)\">-</button>\r\n<input type=\"number\" v-model=\"stats[2]\">\r\n<button @click=\"changeStat(2,1)\">+</button></label>\r\n<br>\r\n<label>WIS:\r\n<button @click=\"changeStat(3,-1)\">-</button>\r\n<input type=\"number\" v-model=\"stats[3]\">\r\n<button @click=\"changeStat(3,1)\">+</button></label>\r\n<br>\r\n<label>DEX:\r\n<button @click=\"changeStat(4,-1)\">-</button>\r\n<input type=\"number\" v-model=\"stats[4]\">\r\n<button @click=\"changeStat(4,1)\">+</button></label>\r\n<br>\r\n<label>PER:\r\n<button @click=\"changeStat(5,-1)\">-</button>\r\n<input type=\"number\" v-model=\"stats[5]\">\r\n<button @click=\"changeStat(5,1)\">+</button></label>\r\n<br>\r\n<label>CHR:\r\n<button @click=\"changeStat(6,-1)\">-</button>\r\n<input type=\"number\" v-model=\"stats[6]\">\r\n<button @click=\"changeStat(6,1)\">+</button></label>\r\n<br>\r\n<label>LCK:\r\n<button @click=\"changeStat(7,-1)\">-</button>\r\n<input type=\"number\" v-model=\"stats[7]\">\r\n<button @click=\"changeStat(7,1)\">+</button></label>\r\n<br>\r\n<label>PRS:\r\n<button @click=\"changeStat(8,-1)\">-</button>\r\n<input type=\"number\" v-model=\"stats[8]\">\r\n<button @click=\"changeStat(8,1)\">+</button></label>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { watch, ref } from 'vue'\r\nimport { saveAs, encodeBase64 } from '@progress/kendo-file-saver';\r\n\r\nexport default \r\n{\r\n  //Official Character Sheet sizes\r\n  //Picture: 329 x 239\r\n  //Full Sheet: 1210 x 904\r\n    data()\r\n    {\r\n        return{\r\n            name: ' ',\r\n            race: ' ',\r\n            title: ' ',\r\n            imgURL: '',\r\n            primColor: '#BB0000',\r\n            secColor: '#bcbcbc',\r\n            allignment: 'NN',\r\n            skill: ' ',\r\n            isOneshot: false,\r\n            level: 1,\r\n            statTotal: 35,\r\n            statPoints: 22,\r\n            //Stats\r\n            stats: [1,1,1,1,1,1,1,1,5],\r\n            hp: 11,\r\n            mp: 1,\r\n            ability: '',\r\n            abilityDesc: '',\r\n        }\r\n    },\r\n    methods:\r\n    {\r\n      changeImg()\r\n      {\r\n        console.log(\"code attempted\")\r\n        var image = document.getElementsByClassName(\"portrait\")[0]\r\n        console.log(image)\r\n        image.src = this.imgURL;\r\n      },\r\n      oneshotLevelSwitch(x)\r\n      {\r\n        if(x)\r\n        {\r\n          //console.log(\"YES\");\r\n          this.level = 3;\r\n          this.statTotal = 40;\r\n          this.calculateTotal()\r\n        }\r\n        else\r\n        {\r\n          //console.log(\"NO\");\r\n          this.level = 1;\r\n          this.statTotal = 35;\r\n          this.calculateTotal()\r\n        }\r\n      },\r\n      levelUp(x)\r\n      {\r\n        if(x)\r\n        {\r\n          if(this.level<5)\r\n        {\r\n          this.statTotal +=3;\r\n        }\r\n        else\r\n        {\r\n          this.statTotal +=1;\r\n        }\r\n        this.level+=1;\r\n        }\r\n        else\r\n        {\r\n          if(this.level!=1)\r\n          {\r\n            if(this.level<=5)\r\n            {\r\n              this.statTotal -=3;\r\n            }\r\n            else\r\n            {\r\n              this.statTotal -=1;\r\n            }\r\n            this.level-=1;\r\n          }\r\n        }\r\n        this.calculateTotal()\r\n      },\r\n      changeStat(stat, value)\r\n      {\r\n              this.stats[stat] = this.stats[stat] + value;\r\n              this.calculateTotal()\r\n      },\r\n      calculateTotal()\r\n      {\r\n        console.log(this.primColor)\r\n        let x = this.statTotal\r\n        for(let i=0; i<this.stats.length;i++)\r\n        {\r\n          //ifs make sure stats are between 1 and 8\r\n          //will need to implement specifics if stats can be uncapped\r\n          if(this.stats[i]>8)\r\n          {\r\n            this.stats[i]=8;\r\n          }\r\n          else if(this.stats[i]<1)\r\n          {\r\n            this.stats[i]=1;\r\n          }\r\n          else if(this.stats[8]<5)\r\n          {\r\n            this.stats[8]=5;\r\n          }\r\n          x-= this.stats[i];\r\n        } \r\n        this.statPoints = x;\r\n        this.hp =Math.trunc(10+ this.stats[0] * (.5 * Math.min(this.level, 5) + .5));\r\n        this.mp =Math.trunc(this.stats[1] * (.25 * Math.min(this.level, 5) + .75));\r\n      },\r\n      saveFile()\r\n        {\r\n          console.log(this.stats)\r\n          const dataURI = \"data:text/plain;base64,\" + encodeBase64(\r\n           this.name + ','+this.race + ',' + this.title + ',' + this.imgURL + ',' + this.primColor + ',' + this.secColor + ',' + this.allignment + ',' + this.skill + ',' + this.ability\r\n           + ',' + this.abilityDesc + ',' + this.isOneshot + ',' + this.level + ',' + this.statTotal + ',' + this.stats);\r\n        saveAs(dataURI, this.name+\".txt\");\r\n        },\r\n      loadFile()\r\n        {\r\n\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\ninput[type=\"number\"]\r\n{\r\nwidth:2%;\r\ntext-align: center;\r\n-webkit-appearance: textfield;\r\n-moz-appearance: textfield;\r\nappearance: textfield;\r\n\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}